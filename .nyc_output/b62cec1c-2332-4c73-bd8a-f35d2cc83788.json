{"/home/walmir/ProjetosExtras/loldesign-back/src/models/calls.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/models/calls.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":7,"column":0},"end":{"line":46,"column":3}},"4":{"start":{"line":47,"column":0},"end":{"line":47,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/models/calls.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/models/calls.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,wBAAmB;AAEnB,MAAM,IAAK,SAAQ,iBAAK;CAUvB;AAED,IAAI,CAAC,IAAI,CAAC;IACN,EAAE,EAAE;QACA,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;KACnB;IACH,MAAM,EAAE;QACN,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,MAAM,EAAE;QACN,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,OAAO,EAAE;QACP,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;KACjB;IACD,IAAI,EAAE;QACJ,IAAI,EAAE,qBAAS,CAAC,MAAM;KACvB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAC,KAAK;KAChB;IACD,aAAa,EAAC;QACZ,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAC,KAAK;KAChB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;IACjB,WAAW,EAAE,IAAI;CAClB,CAAC,CAAC;AAEH,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\nimport db from '.';\n\nclass Call extends Model {\n  public id?: number;\n  public userId: number;\n  public origin: number;\n  public destiny: number;\n  public time: number;\n  public plan?: number;\n  public price: number;\n  public priceWithPlan: number;\n\n}\n\nCall.init({\n    id: {\n        type: DataTypes.INTEGER,\n        allowNull: false,\n        autoIncrement: true,\n        primaryKey: true,\n    },\n  userId: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  origin: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  destiny: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  time: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n  },\n  plan: {\n    type: DataTypes.NUMBER,\n  },\n  price: {\n    type: DataTypes.NUMBER,\n    allowNull:false,\n  },\n  priceWithPlan:{\n    type: DataTypes.NUMBER,\n    allowNull:false,\n  }\n}, {\n  sequelize: db,\n  modelName: 'calls',\n  timestamps: false,\n  underscored: true,\n});\n\nexport default Call;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"0352d8e272df0d156ffda4cf0794ee334be176d4","contentHash":"7277cc812863cd1beda9d24a11052c5c89af05eafe0aec7443e4476d3087d803"},"/home/walmir/ProjetosExtras/loldesign-back/src/models/index.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/models/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":23},"end":{"line":4,"column":52}},"3":{"start":{"line":5,"column":0},"end":{"line":5,"column":60}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/models/index.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/models/index.ts"],"names":[],"mappings":";;AAAA,yCAAsC;AAEtC,MAAM,cAAc,GAAG,OAAO,CAAC,oBAAoB,CAAC,CAAC;AAErD,kBAAe,IAAI,qBAAS,CAAC,cAAc,CAAC,CAAC","sourcesContent":["import { Sequelize } from 'sequelize';\n\nconst databaseConfig = require('../config/database');\n\nexport default new Sequelize(databaseConfig);\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"25d16b0caa5cf3bdf27f286ee351edf3f9e065d3","contentHash":"80ef4fd8f26658b4d108ab3812bf4cf77e18ad72c864fc5704901af885c03b8c"},"/home/walmir/ProjetosExtras/loldesign-back/src/config/database.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/config/database.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":27}},"1":{"start":{"line":3,"column":0},"end":{"line":14,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/config/database.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/config/database.ts"],"names":[],"mappings":";AAAA,OAAO,CAAC,QAAQ,CAAC,CAAC,MAAM,EAAE,CAAC;AAE3B,MAAM,CAAC,OAAO,GAAG;IACf,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;IAC7B,QAAQ,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;IAC7B,QAAQ,EAAG,QAAQ;IACnB,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;IACzB,IAAI,EAAE,OAAO,CAAC,GAAG,CAAC,OAAO;IACzB,OAAO,EAAE,OAAO;IAChB,cAAc,EAAE;QACd,QAAQ,EAAE,GAAG;KACd;IACD,OAAO,EAAE,KAAK;CACf,CAAC","sourcesContent":["require('dotenv').config();\n\nmodule.exports = {\n  username: process.env.DB_USER,\n  password: process.env.DB_PASS ,\n  database:  'TELZIR',\n  host: process.env.DB_HOST ,\n  port: process.env.DB_PORT,\n  dialect: 'mysql',\n  dialectOptions: {\n    timezone: 'Z',\n  },\n  logging: false,\n};\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"ed68e814de2a18649b968026d6819aa93de67fef","contentHash":"311598f89c660d007352d8cad05abdeb2a64333a533bd51611ed02c2d3c368e1"},"/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/callMock.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/callMock.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":68}},"2":{"start":{"line":4,"column":0},"end":{"line":13,"column":2}},"3":{"start":{"line":14,"column":0},"end":{"line":23,"column":7}},"4":{"start":{"line":24,"column":0},"end":{"line":30,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/callMock.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/callMock.ts"],"names":[],"mappings":";;;AAAa,QAAA,QAAQ,GAAG;IACpB,EAAE,EAAE,CAAC;IACL,MAAM,EAAE,CAAC;IACT,MAAM,EAAE,EAAE;IACV,OAAO,EAAE,EAAE;IACX,IAAI,EAAE,EAAE;IACR,IAAI,EAAE,EAAE;IACR,KAAK,EAAE,CAAC;IACR,aAAa,EAAE,IAAI;CACtB,CAAA;AAEY,QAAA,YAAY,GAAG,CAAC;QACzB,EAAE,EAAE,CAAC;QACL,MAAM,EAAE,CAAC;QACT,MAAM,EAAE,EAAE;QACV,OAAO,EAAE,EAAE;QACX,IAAI,EAAE,EAAE;QACR,IAAI,EAAE,EAAE;QACR,KAAK,EAAE,CAAC;QACR,aAAa,EAAE,IAAI;KACtB,CAAC,CAAA;AAEW,QAAA,QAAQ,GAAG;IACpB,IAAI,EAAE,OAAO;IACb,MAAM,EAAE,EAAE;IACV,OAAO,EAAE,EAAE;IACX,IAAI,EAAE,EAAE;IACR,IAAI,EAAE,EAAE;CACX,CAAA","sourcesContent":["export const callMock = {\n    id: 2,\n    userId: 1,\n    origin: 11,\n    destiny: 16,\n    time: 23,\n    plan: 60,\n    price: 0,\n    priceWithPlan: 43.7\n}\n\nexport const callMockList = [{\n    id: 1,\n    userId: 1,\n    origin: 11,\n    destiny: 16,\n    time: 23,\n    plan: 60,\n    price: 0,\n    priceWithPlan: 43.7\n}]\n\nexport const callBody = {\n    name: \"Admin\",\n    origin: 11,\n    destiny: 16,\n    time: 23,\n    plan: 60\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"73d67a6352d2dc056a9d3b0e46936a29b2f627f1","contentHash":"36e96a9ab79e11b9207a070ae6973aaa8d5f19d538e5020f3a1b08a6a4a44f16"},"/home/walmir/ProjetosExtras/loldesign-back/src/app.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/app.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":35}},"2":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"3":{"start":{"line":5,"column":13},"end":{"line":5,"column":28}},"4":{"start":{"line":6,"column":16},"end":{"line":6,"column":41}},"5":{"start":{"line":9,"column":8},"end":{"line":9,"column":29}},"6":{"start":{"line":10,"column":8},"end":{"line":10,"column":22}},"7":{"start":{"line":11,"column":8},"end":{"line":11,"column":29}},"8":{"start":{"line":12,"column":8},"end":{"line":12,"column":38}},"9":{"start":{"line":15,"column":30},"end":{"line":20,"column":9}},"10":{"start":{"line":16,"column":12},"end":{"line":16,"column":59}},"11":{"start":{"line":17,"column":12},"end":{"line":17,"column":86}},"12":{"start":{"line":18,"column":12},"end":{"line":18,"column":60}},"13":{"start":{"line":19,"column":12},"end":{"line":19,"column":19}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":36}},"15":{"start":{"line":22,"column":8},"end":{"line":22,"column":37}},"16":{"start":{"line":25,"column":8},"end":{"line":25,"column":81}},"17":{"start":{"line":25,"column":36},"end":{"line":25,"column":79}},"18":{"start":{"line":28,"column":8},"end":{"line":28,"column":24}},"19":{"start":{"line":31,"column":0},"end":{"line":31,"column":18}},"20":{"start":{"line":32,"column":0},"end":{"line":32,"column":28}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":8,"column":4},"end":{"line":8,"column":5}},"loc":{"start":{"line":8,"column":18},"end":{"line":13,"column":5}},"line":8},"1":{"name":"(anonymous_1)","decl":{"start":{"line":14,"column":4},"end":{"line":14,"column":5}},"loc":{"start":{"line":14,"column":13},"end":{"line":23,"column":5}},"line":14},"2":{"name":"(anonymous_2)","decl":{"start":{"line":15,"column":30},"end":{"line":15,"column":31}},"loc":{"start":{"line":15,"column":51},"end":{"line":20,"column":9}},"line":15},"3":{"name":"(anonymous_3)","decl":{"start":{"line":24,"column":4},"end":{"line":24,"column":5}},"loc":{"start":{"line":24,"column":16},"end":{"line":26,"column":5}},"line":24},"4":{"name":"(anonymous_4)","decl":{"start":{"line":25,"column":30},"end":{"line":25,"column":31}},"loc":{"start":{"line":25,"column":36},"end":{"line":25,"column":79}},"line":25},"5":{"name":"(anonymous_5)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":13},"end":{"line":29,"column":5}},"line":27}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":3,"6":3,"7":3,"8":3,"9":3,"10":2,"11":2,"12":2,"13":2,"14":3,"15":3,"16":0,"17":0,"18":2,"19":1,"20":1},"f":{"0":3,"1":3,"2":2,"3":0,"4":0,"5":2},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/app.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/app.ts"],"names":[],"mappings":";;;AAAA,mCAAmC;AACnC,6BAA6B;AAC7B,0CAAmC;AAEnC,MAAM,GAAG;IAGP;QACE,IAAI,CAAC,GAAG,GAAG,OAAO,EAAE,CAAC;QACrB,IAAI,CAAC,MAAM,EAAE,CAAC;QACd,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,IAAI,EAAE,CAAC,CAAC;QACrB,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,eAAK,CAAC,CAAC;IAEtB,CAAC;IAEO,MAAM;QACZ,MAAM,aAAa,GAA2B,CAAC,IAAI,EAAE,GAAG,EAAE,IAAI,EAAE,EAAE;YAChE,GAAG,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC;YAC/C,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,6BAA6B,CAAC,CAAC;YAC1E,GAAG,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;YAChD,IAAI,EAAE,CAAC;QACT,CAAC,CAAC;QAEF,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,aAAa,CAAC,CAAC;QAC5B,IAAI,CAAC,GAAG,CAAC,GAAG,CAAC,OAAO,CAAC,IAAI,EAAE,CAAC,CAAC;IAC/B,CAAC;IAEM,KAAK,CAAC,IAAqB;QAChC,IAAI,CAAC,GAAG,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,EAAE,CAAC,OAAO,CAAC,GAAG,CAAC,wBAAwB,IAAI,EAAE,CAAC,CAAC,CAAC;IAC3E,CAAC;IAEM,MAAM;QACX,OAAO,IAAI,CAAC,GAAG,CAAC;IAClB,CAAC;CACF;AAEQ,kBAAG;AAEG,WAAG,GAAK,IAAI,GAAG,EAAE,KAAC","sourcesContent":["import * as express from 'express';\nimport * as cors from 'cors';\nimport route from './routes/index';\n\nclass App {\n  public app: express.Express;\n  \n  constructor() {\n    this.app = express();\n    this.config();\n    this.app.use(cors());\n    this.app.use(route);\n\n  }\n\n  private config():void {\n    const accessControl: express.RequestHandler = (_req, res, next) => {\n      res.header('Access-Control-Allow-Origin', '*');\n      res.header('Access-Control-Allow-Methods', 'GET,POST,DELETE,OPTIONS,PUT');\n      res.header('Access-Control-Allow-Headers', '*');\n      next();\n    };\n\n    this.app.use(accessControl);\n    this.app.use(express.json());\n  }\n\n  public start(PORT: string | number):void {\n    this.app.listen(PORT, () => console.log(`Server running here: ${PORT}`));\n  }\n\n  public getApp() {\n    return this.app;\n  }\n}\n\nexport { App };\n\nexport const { app } = new App();\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"8b1091fcd1cb0e7408817d8e02078ce21b168cac","contentHash":"b0c558539746add63d4bb5a1d6d887e3b940d20fb8da653a07100b0fc619c4a0"},"/home/walmir/ProjetosExtras/loldesign-back/src/routes/index.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/routes/index.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":21},"end":{"line":4,"column":44}},"3":{"start":{"line":5,"column":21},"end":{"line":5,"column":44}},"4":{"start":{"line":6,"column":14},"end":{"line":6,"column":37}},"5":{"start":{"line":10,"column":0},"end":{"line":10,"column":42}},"6":{"start":{"line":11,"column":0},"end":{"line":11,"column":42}},"7":{"start":{"line":12,"column":0},"end":{"line":12,"column":24}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/routes/index.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/routes/index.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,6CAAqC;AACrC,6CAAsC;AAEtC,MAAM,KAAK,GAAG,IAAA,gBAAM,GAAE,CAAC;AAEvB;;MAEM;AACN,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAC,oBAAU,CAAC,CAAC;AAC/B,KAAK,CAAC,GAAG,CAAC,QAAQ,EAAE,oBAAS,CAAC,CAAC;AAE/B,kBAAe,KAAK,CAAC","sourcesContent":["import { Router } from 'express';\nimport callRoute from './callRoutes';\nimport loginRoute from './userRoutes';\n\nconst route = Router();\n\n/* route.use('/', (req,res) => {\n    res.status(200).json('ok');\n}); */\nroute.use('/login',loginRoute);\nroute.use('/calls', callRoute);\n\nexport default route;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"4d48dae4018bebcd72b5c70a3de61e464e92b3ef","contentHash":"05d4eed21039a1489e1ab268529720574c5b8810494f2306da4f100131ace8a0"},"/home/walmir/ProjetosExtras/loldesign-back/src/routes/callRoutes.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/routes/callRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":65}},"3":{"start":{"line":5,"column":18},"end":{"line":5,"column":41}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":53}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":50}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":58}},"7":{"start":{"line":9,"column":0},"end":{"line":9,"column":56}},"8":{"start":{"line":10,"column":0},"end":{"line":10,"column":28}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/routes/callRoutes.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/routes/callRoutes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,kEAA2D;AAE3D,MAAM,SAAS,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE3B,SAAS,CAAC,IAAI,CAAC,GAAG,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC;AAC3C,SAAS,CAAC,GAAG,CAAC,GAAG,EAAE,wBAAc,CAAC,IAAI,CAAC,CAAC;AACxC,SAAS,CAAC,MAAM,CAAC,MAAM,EAAE,wBAAc,CAAC,MAAM,CAAC,CAAC;AAChD,SAAS,CAAC,GAAG,CAAC,MAAM,EAAE,wBAAc,CAAC,OAAO,CAAC,CAAC;AAE9C,kBAAe,SAAS,CAAC","sourcesContent":["import { Router } from 'express';\nimport CallController from '../controllers/callController';\n\nconst callRoute = Router();\n\ncallRoute.post('/', CallController.create);\ncallRoute.get('/', CallController.read);\ncallRoute.delete('/:id', CallController.delete);\ncallRoute.get('/:id', CallController.getById);\n\nexport default callRoute;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7e0e0b77f73f521f7883e97a415f218e5c2e24a4","contentHash":"5ab9fe54a61c3673938a62dabc03369e6de7f85b3b68a377ce9f26372e9e4a5a"},"/home/walmir/ProjetosExtras/loldesign-back/src/controllers/callController.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/controllers/callController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":22},"end":{"line":12,"column":56}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":51}},"15":{"start":{"line":16,"column":8},"end":{"line":25,"column":11}},"16":{"start":{"line":17,"column":12},"end":{"line":24,"column":13}},"17":{"start":{"line":18,"column":32},"end":{"line":18,"column":76}},"18":{"start":{"line":19,"column":16},"end":{"line":19,"column":78}},"19":{"start":{"line":22,"column":16},"end":{"line":23,"column":47}},"20":{"start":{"line":28,"column":8},"end":{"line":37,"column":11}},"21":{"start":{"line":29,"column":12},"end":{"line":36,"column":13}},"22":{"start":{"line":30,"column":30},"end":{"line":30,"column":64}},"23":{"start":{"line":31,"column":16},"end":{"line":31,"column":71}},"24":{"start":{"line":34,"column":16},"end":{"line":35,"column":47}},"25":{"start":{"line":40,"column":8},"end":{"line":50,"column":11}},"26":{"start":{"line":41,"column":12},"end":{"line":49,"column":13}},"27":{"start":{"line":42,"column":31},"end":{"line":42,"column":41}},"28":{"start":{"line":43,"column":30},"end":{"line":43,"column":70}},"29":{"start":{"line":44,"column":16},"end":{"line":44,"column":71}},"30":{"start":{"line":47,"column":16},"end":{"line":48,"column":47}},"31":{"start":{"line":53,"column":8},"end":{"line":64,"column":11}},"32":{"start":{"line":54,"column":12},"end":{"line":63,"column":13}},"33":{"start":{"line":55,"column":31},"end":{"line":55,"column":39}},"34":{"start":{"line":56,"column":39},"end":{"line":56,"column":49}},"35":{"start":{"line":57,"column":30},"end":{"line":57,"column":77}},"36":{"start":{"line":58,"column":16},"end":{"line":58,"column":71}},"37":{"start":{"line":61,"column":16},"end":{"line":62,"column":47}},"38":{"start":{"line":67,"column":0},"end":{"line":67,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":28},"end":{"line":26,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":47},"end":{"line":16,"column":48}},"loc":{"start":{"line":16,"column":60},"end":{"line":25,"column":9}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":27,"column":4},"end":{"line":27,"column":5}},"loc":{"start":{"line":27,"column":26},"end":{"line":38,"column":5}},"line":27},"10":{"name":"(anonymous_10)","decl":{"start":{"line":28,"column":47},"end":{"line":28,"column":48}},"loc":{"start":{"line":28,"column":60},"end":{"line":37,"column":9}},"line":28},"11":{"name":"(anonymous_11)","decl":{"start":{"line":39,"column":4},"end":{"line":39,"column":5}},"loc":{"start":{"line":39,"column":29},"end":{"line":51,"column":5}},"line":39},"12":{"name":"(anonymous_12)","decl":{"start":{"line":40,"column":47},"end":{"line":40,"column":48}},"loc":{"start":{"line":40,"column":60},"end":{"line":50,"column":9}},"line":40},"13":{"name":"(anonymous_13)","decl":{"start":{"line":52,"column":4},"end":{"line":52,"column":5}},"loc":{"start":{"line":52,"column":28},"end":{"line":65,"column":5}},"line":52},"14":{"name":"(anonymous_14)","decl":{"start":{"line":53,"column":47},"end":{"line":53,"column":48}},"loc":{"start":{"line":53,"column":60},"end":{"line":64,"column":9}},"line":53}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":0,"6":2,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1]},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/controllers/callController.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/controllers/callController.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,yDAAkD;AAClD,oDAA6C;AAE7C,MAAqB,cAAc;IACxB,MAAM,CAAO,MAAM,CAAE,GAAY,EAAC,GAAa;;YAClD,IAAI;gBACA,MAAM,OAAO,GAAG,MAAM,qBAAW,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBACnD,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;aAEvD;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,YAAY,CAAC;qBACnC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;aACpC;QACL,CAAC;KAAA;IAEM,MAAM,CAAO,IAAI,CAAE,GAAY,EAAC,GAAa;;YAChD,IAAI;gBACA,MAAM,KAAK,GAAG,MAAM,qBAAW,CAAC,IAAI,EAAE,CAAC;gBACvC,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAChD;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,YAAY,CAAC;qBACnC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;aACpC;QACL,CAAC;KAAA;IAEM,MAAM,CAAO,OAAO,CAAC,GAAY,EAAC,GAAa;;YAClD,IAAI;gBACA,MAAM,EAAC,EAAE,EAAC,GAAG,GAAG,CAAC,MAAM,CAAC;gBACxB,MAAM,KAAK,GAAG,MAAM,qBAAW,CAAC,OAAO,CAAC,CAAC,EAAE,CAAC,CAAC;gBAC7C,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;aAEhD;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,YAAY,CAAC;qBACnC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;aACpC;QACL,CAAC;KAAA;IAEM,MAAM,CAAO,MAAM,CAAE,GAAY,EAAC,GAAa;;YAClD,IAAI;gBACA,MAAM,EAAC,EAAE,EAAC,GAAG,GAAG,CAAC,IAAI,CAAC;gBACtB,MAAM,EAAC,EAAE,EAAE,MAAM,EAAC,GAAG,GAAG,CAAC,MAAM,CAAA;gBAC/B,MAAM,KAAK,GAAG,MAAM,qBAAW,CAAC,MAAM,CAAC,CAAC,MAAM,EAAC,EAAE,CAAC,CAAC;gBACnD,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,KAAK,CAAC,CAAA;aAE/C;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,YAAY,CAAC;qBACnC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;aACpC;QACT,CAAC;KAAA;CACA;AA9CD,iCA8CC","sourcesContent":["import { Request, Response } from 'express';\nimport CallService from '../services/callService';\nimport StatusCode from '../Utils/StatusCode';\n\nexport default class CallController {\n    public static async create (req: Request,res: Response): Promise<typeof res>  {\n        try {\n            const newCall = await CallService.create(req.body);\n            return res.status(StatusCode.CREATED).json(newCall);\n            \n        } catch (err) {\n            return res.status(StatusCode.UNAUTHORIZED)\n                  .json({ error: `${err}` });\n        }\n    }\n\n    public static async read (req: Request,res: Response): Promise<typeof res> {\n        try {\n            const calls = await CallService.read();\n            return res.status(StatusCode.OK).json(calls);\n        } catch (err) {\n            return res.status(StatusCode.UNAUTHORIZED)\n                  .json({ error: `${err}` });\n        }\n    }\n\n    public static async getById(req: Request,res: Response): Promise<typeof res> {\n        try {\n            const {id} = req.params;\n            const calls = await CallService.getById(+id);\n            return res.status(StatusCode.OK).json(calls);\n            \n        } catch (err) {\n            return res.status(StatusCode.UNAUTHORIZED)\n                  .json({ error: `${err}` });\n        }\n    }\n\n    public static async delete (req: Request,res: Response): Promise<typeof res> {\n        try {\n            const {id} = req.body;\n            const {id: callId} = req.params\n            const calls = await CallService.delete(+callId,id);\n            return res.status(StatusCode.OK).json(calls)\n            \n        } catch (err) {\n            return res.status(StatusCode.UNAUTHORIZED)\n                  .json({ error: `${err}` });\n        }\n}\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"2ca270b7a4acea0684e07530edd1bec5e014fcf2","contentHash":"3174d2c41a13912666d8a86a4290f877655fc041ece246d084c1adb78c823523"},"/home/walmir/ProjetosExtras/loldesign-back/src/services/callService.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/services/callService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":15},"end":{"line":12,"column":40}},"14":{"start":{"line":13,"column":16},"end":{"line":13,"column":42}},"15":{"start":{"line":14,"column":25},"end":{"line":14,"column":59}},"16":{"start":{"line":15,"column":22},"end":{"line":15,"column":46}},"17":{"start":{"line":18,"column":8},"end":{"line":34,"column":11}},"18":{"start":{"line":19,"column":58},"end":{"line":19,"column":62}},"19":{"start":{"line":20,"column":45},"end":{"line":20,"column":87}},"20":{"start":{"line":21,"column":27},"end":{"line":21,"column":71}},"21":{"start":{"line":22,"column":25},"end":{"line":22,"column":127}},"22":{"start":{"line":23,"column":33},"end":{"line":32,"column":13}},"23":{"start":{"line":33,"column":12},"end":{"line":33,"column":32}},"24":{"start":{"line":38,"column":8},"end":{"line":45,"column":11}},"25":{"start":{"line":39,"column":26},"end":{"line":43,"column":14}},"26":{"start":{"line":44,"column":12},"end":{"line":44,"column":25}},"27":{"start":{"line":48,"column":8},"end":{"line":54,"column":11}},"28":{"start":{"line":49,"column":29},"end":{"line":49,"column":69}},"29":{"start":{"line":50,"column":25},"end":{"line":52,"column":20}},"30":{"start":{"line":53,"column":12},"end":{"line":53,"column":24}},"31":{"start":{"line":57,"column":8},"end":{"line":63,"column":11}},"32":{"start":{"line":58,"column":12},"end":{"line":60,"column":21}},"33":{"start":{"line":61,"column":25},"end":{"line":61,"column":51}},"34":{"start":{"line":62,"column":12},"end":{"line":62,"column":24}},"35":{"start":{"line":66,"column":0},"end":{"line":66,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":24},"end":{"line":35,"column":5}},"line":17},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":34,"column":9}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":37,"column":4},"end":{"line":37,"column":5}},"loc":{"start":{"line":37,"column":18},"end":{"line":46,"column":5}},"line":37},"10":{"name":"(anonymous_10)","decl":{"start":{"line":38,"column":47},"end":{"line":38,"column":48}},"loc":{"start":{"line":38,"column":60},"end":{"line":45,"column":9}},"line":38},"11":{"name":"(anonymous_11)","decl":{"start":{"line":47,"column":4},"end":{"line":47,"column":5}},"loc":{"start":{"line":47,"column":23},"end":{"line":55,"column":5}},"line":47},"12":{"name":"(anonymous_12)","decl":{"start":{"line":48,"column":47},"end":{"line":48,"column":48}},"loc":{"start":{"line":48,"column":60},"end":{"line":54,"column":9}},"line":48},"13":{"name":"(anonymous_13)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":34},"end":{"line":64,"column":5}},"line":56},"14":{"name":"(anonymous_14)","decl":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"loc":{"start":{"line":57,"column":60},"end":{"line":63,"column":9}},"line":57}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8}},"s":{"0":1,"1":2,"2":0,"3":1,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":3,"11":1,"12":1,"13":1,"14":1,"15":1,"16":1,"17":1,"18":1,"19":1,"20":1,"21":1,"22":1,"23":1,"24":0,"25":0,"26":0,"27":0,"28":0,"29":0,"30":0,"31":0,"32":0,"33":0,"34":0,"35":1},"f":{"0":1,"1":2,"2":0,"3":1,"4":2,"5":0,"6":3,"7":1,"8":1,"9":0,"10":0,"11":0,"12":0,"13":0,"14":0},"b":{"0":[1,1,1],"1":[2,0],"2":[1,1],"3":[1,2],"4":[1,1]},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/services/callService.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/services/callService.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,yCAAkC;AAElC,2CAAmC;AACnC,4DAAyD;AACzD,+CAAwC;AAExC,MAAqB,WAAW;IAErB,MAAM,CAAO,MAAM,CAAE,IAAc;;YACtC,MAAM,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,GAAG,IAAI,CAAC;YAEnD,MAAM,EAAC,KAAK,EAAE,aAAa,EAAC,GAAG,IAAA,+BAAc,EAAC,IAAI,CAAC,CAAC;YAEpD,MAAM,MAAM,GAAG,MAAM,qBAAW,CAAC,UAAU,CAAC,IAAI,CAAC,CAAC;YAElD,MAAM,IAAI,GAAG,MAAM,eAAI,CAAC,MAAM,CAAC,EAAC,MAAM,EAAE,MAAM,CAAC,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAE,KAAK,EAAE,aAAa,EAAC,CAAC,CAAA;YAEtG,MAAM,YAAY,GAAG;gBACjB,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,MAAM,EAAE,IAAI,CAAC,MAAM;gBACnB,MAAM;gBACN,OAAO;gBACP,IAAI;gBACJ,IAAI;gBACJ,KAAK;gBACL,aAAa;aACb,CAAC;YAEL,OAAO,YAAY,CAAC;QACtB,CAAC;KAAA;IAAA,CAAC;IAEK,MAAM,CAAO,IAAI;;YACpB,MAAM,KAAK,GAAG,MAAM,eAAI,CAAC,OAAO,CAAC;gBAC7B,OAAO,EAAE;oBACL,EAAC,KAAK,EAAE,cAAI,EAAE,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,UAAU,CAAC,EAAE;iBACxD;aACJ,CAAC,CAAC;YACH,OAAO,KAAK,CAAC;QACjB,CAAC;KAAA;IAEM,MAAM,CAAO,OAAO,CAAE,EAAS;;YACpC,MAAM,QAAQ,GAAG,MAAM,qBAAW,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAC;YAChD,MAAM,IAAI,GAAG,MAAM,eAAI,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE;oBACrC,MAAM,EAAE,QAAQ,CAAC,EAAE;iBACtB,EAAC,CAAC,CAAC;YACJ,OAAO,IAAI,CAAC;QAEd,CAAC;KAAA;IAEM,MAAM,CAAO,MAAM,CAAE,MAAc,EAAE,MAAc;;YAEtD,MAAM,eAAI,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE;oBACvB,EAAE,EAAE,MAAM;iBACb,EAAC,CAAC,CAAC;YACJ,MAAM,IAAI,GAAG,MAAM,IAAI,CAAC,OAAO,CAAC,MAAM,CAAC,CAAA;YACvC,OAAO,IAAI,CAAC;QAChB,CAAC;KAAA;CAGJ;AArDH,8BAqDG","sourcesContent":["import User from '../models/user';\nimport { CallData, ICall } from '../interfaces/callInterface';\nimport Call from '../models/calls';\nimport { calculatePrice } from '../Utils/calculatePrice';\nimport UserService from './userService';\n\nexport default class CallService  {\n      \n    public static async create (data: CallData): Promise<boolean | ICall>  {\n        const { origin, destiny, time, plan, name } = data;\n\n        const {price, priceWithPlan} = calculatePrice(data);        \n\n        const userId = await UserService.findByName(name);\n          \n        const call = await Call.create({userId: userId.id, origin, destiny, time, plan, price, priceWithPlan})                  \n      \n        const callFiltered = {\n            id: call.id,\n            userId: call.userId,\n            origin,\n            destiny,\n            time,\n            plan,\n            price,\n            priceWithPlan\n           };\n      \n        return callFiltered;\n      };\n\n      public static async read (): Promise<Call[]> {\n          const calls = await Call.findAll({\n              include: [\n                  {model: User, as: 'users', attributes: ['username'] }\n              ]\n          });\n          return calls;\n      }\n\n      public static async getById (id:number): Promise<Call[] | null>{\n        const response = await UserService.findById(id);\n        const call = await Call.findAll({ where: {\n            userId: response.id\n        }});\n        return call;\n\n      }\n\n      public static async delete (callId: number, userId: number): Promise<Call[] | null> {\n\n          await Call.destroy({where: {\n              id: callId\n          }});\n          const call = await this.getById(userId)\n          return call;\n      }\n\n\n  } \n\n\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"c20a16154174709e2677765a151a17f38990ab14","contentHash":"d52b3a3c052e006fbcb50e55eb88850142f36d937f6975712e299f66528ab954"},"/home/walmir/ProjetosExtras/loldesign-back/src/models/user.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/models/user.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":20},"end":{"line":3,"column":40}},"2":{"start":{"line":4,"column":11},"end":{"line":4,"column":23}},"3":{"start":{"line":5,"column":16},"end":{"line":5,"column":34}},"4":{"start":{"line":8,"column":0},"end":{"line":32,"column":3}},"5":{"start":{"line":33,"column":0},"end":{"line":33,"column":69}},"6":{"start":{"line":34,"column":0},"end":{"line":34,"column":88}},"7":{"start":{"line":35,"column":0},"end":{"line":35,"column":23}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/models/user.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/models/user.ts"],"names":[],"mappings":";;AAAA,yCAA6C;AAC7C,wBAAmB;AACnB,mCAA2B;AAE3B,MAAM,IAAK,SAAQ,iBAAK;CASvB;AAED,IAAI,CAAC,IAAI,CAAC;IACR,EAAE,EAAE;QACF,IAAI,EAAE,qBAAS,CAAC,OAAO;QACvB,SAAS,EAAE,KAAK;QAChB,aAAa,EAAE,IAAI;QACnB,UAAU,EAAE,IAAI;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,KAAK,EAAE;QACL,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;IACD,QAAQ,EAAE;QACR,IAAI,EAAE,qBAAS,CAAC,MAAM;QACtB,SAAS,EAAE,KAAK;KACjB;CACF,EAAE;IACD,SAAS,EAAE,UAAE;IACb,SAAS,EAAE,OAAO;IAClB,UAAU,EAAE,KAAK;IACjB,WAAW,EAAE,IAAI;CAClB,CAAC,CAAC;AAEH,IAAI,CAAC,OAAO,CAAC,eAAI,EAAE,EAAC,UAAU,EAAE,QAAQ,EAAE,EAAE,EAAE,OAAO,EAAC,CAAC,CAAC;AACxD,eAAI,CAAC,SAAS,CAAC,IAAI,EAAE,EAAC,UAAU,EAAC,QAAQ,EAAE,SAAS,EAAE,IAAI,EAAE,EAAE,EAAC,OAAO,EAAC,CAAC,CAAA;AAExE,kBAAe,IAAI,CAAC","sourcesContent":["import { Model, DataTypes } from 'sequelize';\nimport db from '.';\nimport Call from './calls';\n\nclass User extends Model {\n  public id?: number;\n\n  public username: string;\n\n  public email: string;\n\n  public password: string;\n\n}\n\nUser.init({\n  id: {\n    type: DataTypes.INTEGER,\n    allowNull: false,\n    autoIncrement: true,\n    primaryKey: true,\n  },\n  username: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  email: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n  password: {\n    type: DataTypes.STRING,\n    allowNull: false,\n  },\n}, {\n  sequelize: db,\n  modelName: 'users',\n  timestamps: false,\n  underscored: true,\n});\n\nUser.hasMany(Call, {foreignKey: 'userId', as: 'calls'});\nCall.belongsTo(User, {foreignKey:'userId', targetKey: 'id', as:'users'})\n\nexport default User;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"655eaf7ffe81d1c7328838063847084c54990637","contentHash":"72eaf683bf6d9f2494b7c14e9f2cab57329c819841fb1da0efb430f0e99beabd"},"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/calculatePrice.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/calculatePrice.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":32}},"2":{"start":{"line":4,"column":26},"end":{"line":11,"column":1}},"3":{"start":{"line":5,"column":25},"end":{"line":5,"column":36}},"4":{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},"5":{"start":{"line":7,"column":8},"end":{"line":7,"column":48}},"6":{"start":{"line":9,"column":8},"end":{"line":9,"column":47}},"7":{"start":{"line":12,"column":23},"end":{"line":36,"column":1}},"8":{"start":{"line":13,"column":19},"end":{"line":13,"column":20}},"9":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"10":{"start":{"line":15,"column":8},"end":{"line":15,"column":24}},"11":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"12":{"start":{"line":18,"column":8},"end":{"line":18,"column":24}},"13":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"14":{"start":{"line":21,"column":8},"end":{"line":21,"column":24}},"15":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"16":{"start":{"line":24,"column":8},"end":{"line":24,"column":24}},"17":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"18":{"start":{"line":27,"column":8},"end":{"line":27,"column":24}},"19":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"20":{"start":{"line":30,"column":8},"end":{"line":30,"column":24}},"21":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"22":{"start":{"line":33,"column":8},"end":{"line":33,"column":24}},"23":{"start":{"line":35,"column":4},"end":{"line":35,"column":20}},"24":{"start":{"line":37,"column":23},"end":{"line":44,"column":1}},"25":{"start":{"line":38,"column":44},"end":{"line":38,"column":48}},"26":{"start":{"line":39,"column":39},"end":{"line":39,"column":68}},"27":{"start":{"line":40,"column":21},"end":{"line":40,"column":52}},"28":{"start":{"line":41,"column":18},"end":{"line":41,"column":77}},"29":{"start":{"line":42,"column":26},"end":{"line":42,"column":66}},"30":{"start":{"line":43,"column":4},"end":{"line":43,"column":36}},"31":{"start":{"line":45,"column":0},"end":{"line":45,"column":40}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":26},"end":{"line":4,"column":27}},"loc":{"start":{"line":4,"column":42},"end":{"line":11,"column":1}},"line":4},"1":{"name":"(anonymous_1)","decl":{"start":{"line":12,"column":23},"end":{"line":12,"column":24}},"loc":{"start":{"line":12,"column":44},"end":{"line":36,"column":1}},"line":12},"2":{"name":"(anonymous_2)","decl":{"start":{"line":37,"column":23},"end":{"line":37,"column":24}},"loc":{"start":{"line":37,"column":33},"end":{"line":44,"column":1}},"line":37}},"branchMap":{"0":{"loc":{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},"type":"if","locations":[{"start":{"line":6,"column":4},"end":{"line":10,"column":5}},{"start":{"line":6,"column":4},"end":{"line":10,"column":5}}],"line":6},"1":{"loc":{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},"type":"if","locations":[{"start":{"line":14,"column":4},"end":{"line":16,"column":5}},{"start":{"line":14,"column":4},"end":{"line":16,"column":5}}],"line":14},"2":{"loc":{"start":{"line":14,"column":8},"end":{"line":14,"column":39}},"type":"binary-expr","locations":[{"start":{"line":14,"column":8},"end":{"line":14,"column":21}},{"start":{"line":14,"column":25},"end":{"line":14,"column":39}}],"line":14},"3":{"loc":{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},"type":"if","locations":[{"start":{"line":17,"column":4},"end":{"line":19,"column":5}},{"start":{"line":17,"column":4},"end":{"line":19,"column":5}}],"line":17},"4":{"loc":{"start":{"line":17,"column":8},"end":{"line":17,"column":39}},"type":"binary-expr","locations":[{"start":{"line":17,"column":8},"end":{"line":17,"column":21}},{"start":{"line":17,"column":25},"end":{"line":17,"column":39}}],"line":17},"5":{"loc":{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},"type":"if","locations":[{"start":{"line":20,"column":4},"end":{"line":22,"column":5}},{"start":{"line":20,"column":4},"end":{"line":22,"column":5}}],"line":20},"6":{"loc":{"start":{"line":20,"column":8},"end":{"line":20,"column":39}},"type":"binary-expr","locations":[{"start":{"line":20,"column":8},"end":{"line":20,"column":21}},{"start":{"line":20,"column":25},"end":{"line":20,"column":39}}],"line":20},"7":{"loc":{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},"type":"if","locations":[{"start":{"line":23,"column":4},"end":{"line":25,"column":5}},{"start":{"line":23,"column":4},"end":{"line":25,"column":5}}],"line":23},"8":{"loc":{"start":{"line":23,"column":8},"end":{"line":23,"column":39}},"type":"binary-expr","locations":[{"start":{"line":23,"column":8},"end":{"line":23,"column":21}},{"start":{"line":23,"column":25},"end":{"line":23,"column":39}}],"line":23},"9":{"loc":{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},"type":"if","locations":[{"start":{"line":26,"column":4},"end":{"line":28,"column":5}},{"start":{"line":26,"column":4},"end":{"line":28,"column":5}}],"line":26},"10":{"loc":{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},"type":"if","locations":[{"start":{"line":29,"column":4},"end":{"line":31,"column":5}},{"start":{"line":29,"column":4},"end":{"line":31,"column":5}}],"line":29},"11":{"loc":{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},"type":"if","locations":[{"start":{"line":32,"column":4},"end":{"line":34,"column":5}},{"start":{"line":32,"column":4},"end":{"line":34,"column":5}}],"line":32}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":0,"7":1,"8":1,"9":1,"10":1,"11":1,"12":0,"13":1,"14":0,"15":1,"16":0,"17":1,"18":0,"19":1,"20":0,"21":1,"22":0,"23":1,"24":1,"25":1,"26":1,"27":1,"28":1,"29":1,"30":1,"31":1},"f":{"0":1,"1":1,"2":1},"b":{"0":[1,0],"1":[1,0],"2":[1,1],"3":[0,1],"4":[1,1],"5":[0,1],"6":[1,1],"7":[0,1],"8":[1,1],"9":[0,1],"10":[0,1],"11":[0,1]},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/calculatePrice.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/Utils/calculatePrice.ts"],"names":[],"mappings":";;;AAEA,MAAM,iBAAiB,GAAG,CAAE,IAAW,EAAE,IAAW,EAAE,EAAE;IACpD,IAAI,cAAc,GAAG,IAAI,GAAG,IAAI,CAAC;IACjC,IAAG,cAAc,IAAI,CAAC;QAAE,OAAO,EAAE,cAAc,EAAE,CAAC,EAAE,MAAM,EAAE,CAAC,EAAC,CAAA;SACzD;QACL,OAAO,EAAC,cAAc,EAAE,MAAM,EAAE,GAAG,EAAC,CAAA;KACnC;AACL,CAAC,CAAA;AAED,MAAM,cAAc,GAAG,CAAC,MAAa,EAAE,OAAc,EAAE,EAAE;IACrD,IAAI,QAAQ,GAAG,CAAC,CAAC;IACjB,IAAG,MAAM,KAAK,EAAE,IAAI,OAAO,KAAK,EAAE,EAAC;QAC/B,QAAQ,GAAG,IAAI,CAAC;KACnB;IACD,IAAG,MAAM,KAAK,EAAE,IAAI,OAAO,KAAK,EAAE,EAAC;QAC/B,QAAQ,GAAG,IAAI,CAAC;KACnB;IACD,IAAG,MAAM,KAAK,EAAE,IAAI,OAAO,KAAK,EAAE,EAAC;QAC/B,QAAQ,GAAG,IAAI,CAAC;KACnB;IACD,IAAG,MAAM,KAAK,EAAE,IAAI,OAAO,KAAK,EAAE,EAAC;QAC/B,QAAQ,GAAG,IAAI,CAAC;KACnB;IACD,IAAG,MAAM,KAAK,EAAE,EAAC;QACb,QAAQ,GAAG,IAAI,CAAC;KACnB;IACD,IAAG,MAAM,KAAK,EAAE,EAAC;QACb,QAAQ,GAAG,IAAI,CAAC;KACnB;IACD,IAAG,MAAM,KAAK,EAAE,EAAC;QACb,QAAQ,GAAG,IAAI,CAAC;KACnB;IACD,OAAO,QAAQ,CAAC;AACpB,CAAC,CAAA;AAGM,MAAM,cAAc,GAAG,CAAC,IAAc,EAAE,EAAE;IAC7C,MAAM,EAAC,MAAM,EAAE,OAAO,EAAE,IAAI,EAAE,IAAI,EAAC,GAAG,IAAI,CAAC;IAE3C,MAAM,EAAC,cAAc,EAAE,MAAM,EAAC,GAAE,iBAAiB,CAAC,IAAI,EAAE,IAAI,CAAC,CAAC;IAE9D,MAAM,QAAQ,GAAG,cAAc,CAAC,MAAM,EAAE,OAAO,CAAC,CAAC;IAEjD,MAAM,KAAK,GAAG,UAAU,CAAC,CAAC,QAAQ,GAAC,cAAc,GAAC,MAAM,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAEtE,MAAM,aAAa,GAAG,UAAU,CAAC,CAAC,QAAQ,GAAC,IAAI,CAAC,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC,CAAC;IAE7D,OAAO,EAAC,KAAK,EAAE,aAAa,EAAC,CAAC;AAClC,CAAC,CAAA;AAZY,QAAA,cAAc,kBAY1B","sourcesContent":["import { CallData } from \"../interfaces/callInterface\";\n\nconst planCoverageCheck = ( plan:number, time:number) => {\n    let timeDifference = time - plan;\n    if(timeDifference <= 0) return { timeDifference: 0, excess: 1}\n    else {\n    return {timeDifference, excess: 1.1}\n    } \n}\n\nconst definePriceMin = (origin:number, destiny:number) => {\n    let priceMin = 0; \n    if(origin === 11 && destiny === 16){\n        priceMin = 1.90;\n    }\n    if(origin === 11 && destiny === 17){\n        priceMin = 1.70;\n    }\n    if(origin === 11 && destiny === 18){\n        priceMin = 0.90;\n    }\n    if(origin === 11 && destiny === 11){\n        priceMin = 0.90;\n    }\n    if(origin === 16){\n        priceMin = 2.90;\n    }\n    if(origin === 17){\n        priceMin = 2.70;\n    }\n    if(origin === 18){\n        priceMin = 1.90;\n    }\n    return priceMin;\n}\n\n\nexport const calculatePrice = (data: CallData) => {\n    const {origin, destiny, plan, time} = data;\n\n    const {timeDifference, excess}= planCoverageCheck(plan, time);\n\n    const priceMin = definePriceMin(origin, destiny);\n\n    const price = parseFloat((priceMin*timeDifference*excess).toFixed(2));\n\n    const priceWithPlan = parseFloat((priceMin*time).toFixed(2));\n\n    return {price, priceWithPlan};\n}"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"6146cb7ce2c58604e324303db123c493d2b70c64","contentHash":"2ca4b13a5a9864949b33aa5ac36a107d689f0d836c1f31116cf78fd97eb757c8"},"/home/walmir/ProjetosExtras/loldesign-back/src/services/userService.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/services/userService.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":19},"end":{"line":12,"column":38}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":52}},"15":{"start":{"line":14,"column":15},"end":{"line":14,"column":40}},"16":{"start":{"line":15,"column":26},"end":{"line":15,"column":61}},"17":{"start":{"line":18,"column":8},"end":{"line":32,"column":11}},"18":{"start":{"line":19,"column":40},"end":{"line":19,"column":44}},"19":{"start":{"line":20,"column":25},"end":{"line":20,"column":75}},"20":{"start":{"line":21,"column":12},"end":{"line":22,"column":29}},"21":{"start":{"line":22,"column":16},"end":{"line":22,"column":29}},"22":{"start":{"line":23,"column":34},"end":{"line":23,"column":86}},"23":{"start":{"line":24,"column":12},"end":{"line":25,"column":29}},"24":{"start":{"line":25,"column":16},"end":{"line":25,"column":29}},"25":{"start":{"line":26,"column":33},"end":{"line":30,"column":13}},"26":{"start":{"line":31,"column":12},"end":{"line":31,"column":32}},"27":{"start":{"line":36,"column":8},"end":{"line":48,"column":11}},"28":{"start":{"line":37,"column":50},"end":{"line":37,"column":54}},"29":{"start":{"line":38,"column":30},"end":{"line":38,"column":83}},"30":{"start":{"line":39,"column":12},"end":{"line":40,"column":29}},"31":{"start":{"line":40,"column":16},"end":{"line":40,"column":29}},"32":{"start":{"line":41,"column":35},"end":{"line":41,"column":89}},"33":{"start":{"line":42,"column":28},"end":{"line":42,"column":102}},"34":{"start":{"line":43,"column":12},"end":{"line":47,"column":14}},"35":{"start":{"line":51,"column":8},"end":{"line":54,"column":11}},"36":{"start":{"line":52,"column":25},"end":{"line":52,"column":58}},"37":{"start":{"line":53,"column":12},"end":{"line":53,"column":79}},"38":{"start":{"line":57,"column":8},"end":{"line":60,"column":11}},"39":{"start":{"line":58,"column":25},"end":{"line":58,"column":84}},"40":{"start":{"line":59,"column":12},"end":{"line":59,"column":79}},"41":{"start":{"line":63,"column":8},"end":{"line":63,"column":55}},"42":{"start":{"line":66,"column":0},"end":{"line":66,"column":30}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":17,"column":4},"end":{"line":17,"column":5}},"loc":{"start":{"line":17,"column":23},"end":{"line":33,"column":5}},"line":17},"8":{"name":"(anonymous_8)","decl":{"start":{"line":18,"column":47},"end":{"line":18,"column":48}},"loc":{"start":{"line":18,"column":60},"end":{"line":32,"column":9}},"line":18},"9":{"name":"(anonymous_9)","decl":{"start":{"line":35,"column":4},"end":{"line":35,"column":5}},"loc":{"start":{"line":35,"column":24},"end":{"line":49,"column":5}},"line":35},"10":{"name":"(anonymous_10)","decl":{"start":{"line":36,"column":47},"end":{"line":36,"column":48}},"loc":{"start":{"line":36,"column":60},"end":{"line":48,"column":9}},"line":36},"11":{"name":"(anonymous_11)","decl":{"start":{"line":50,"column":4},"end":{"line":50,"column":5}},"loc":{"start":{"line":50,"column":24},"end":{"line":55,"column":5}},"line":50},"12":{"name":"(anonymous_12)","decl":{"start":{"line":51,"column":47},"end":{"line":51,"column":48}},"loc":{"start":{"line":51,"column":60},"end":{"line":54,"column":9}},"line":51},"13":{"name":"(anonymous_13)","decl":{"start":{"line":56,"column":4},"end":{"line":56,"column":5}},"loc":{"start":{"line":56,"column":28},"end":{"line":61,"column":5}},"line":56},"14":{"name":"(anonymous_14)","decl":{"start":{"line":57,"column":47},"end":{"line":57,"column":48}},"loc":{"start":{"line":57,"column":60},"end":{"line":60,"column":9}},"line":57},"15":{"name":"(anonymous_15)","decl":{"start":{"line":62,"column":4},"end":{"line":62,"column":5}},"loc":{"start":{"line":62,"column":30},"end":{"line":64,"column":5}},"line":62}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":21,"column":12},"end":{"line":22,"column":29}},"type":"if","locations":[{"start":{"line":21,"column":12},"end":{"line":22,"column":29}},{"start":{"line":21,"column":12},"end":{"line":22,"column":29}}],"line":21},"6":{"loc":{"start":{"line":24,"column":12},"end":{"line":25,"column":29}},"type":"if","locations":[{"start":{"line":24,"column":12},"end":{"line":25,"column":29}},{"start":{"line":24,"column":12},"end":{"line":25,"column":29}}],"line":24},"7":{"loc":{"start":{"line":39,"column":12},"end":{"line":40,"column":29}},"type":"if","locations":[{"start":{"line":39,"column":12},"end":{"line":40,"column":29}},{"start":{"line":39,"column":12},"end":{"line":40,"column":29}}],"line":39},"8":{"loc":{"start":{"line":53,"column":25},"end":{"line":53,"column":76}},"type":"cond-expr","locations":[{"start":{"line":53,"column":60},"end":{"line":53,"column":66}},{"start":{"line":53,"column":69},"end":{"line":53,"column":76}}],"line":53},"9":{"loc":{"start":{"line":53,"column":25},"end":{"line":53,"column":57}},"type":"binary-expr","locations":[{"start":{"line":53,"column":25},"end":{"line":53,"column":38}},{"start":{"line":53,"column":42},"end":{"line":53,"column":57}}],"line":53},"10":{"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":76}},"type":"cond-expr","locations":[{"start":{"line":59,"column":60},"end":{"line":59,"column":66}},{"start":{"line":59,"column":69},"end":{"line":59,"column":76}}],"line":59},"11":{"loc":{"start":{"line":59,"column":25},"end":{"line":59,"column":57}},"type":"binary-expr","locations":[{"start":{"line":59,"column":25},"end":{"line":59,"column":38}},{"start":{"line":59,"column":42},"end":{"line":59,"column":57}}],"line":59}},"s":{"0":1,"1":2,"2":0,"3":2,"4":2,"5":2,"6":0,"7":0,"8":0,"9":0,"10":4,"11":2,"12":1,"13":1,"14":1,"15":1,"16":1,"17":0,"18":0,"19":0,"20":0,"21":0,"22":0,"23":0,"24":0,"25":0,"26":0,"27":1,"28":1,"29":1,"30":1,"31":1,"32":0,"33":0,"34":0,"35":0,"36":0,"37":0,"38":1,"39":1,"40":1,"41":1,"42":1},"f":{"0":2,"1":2,"2":0,"3":2,"4":2,"5":0,"6":4,"7":0,"8":0,"9":1,"10":1,"11":0,"12":0,"13":1,"14":1,"15":1},"b":{"0":[1,1,1],"1":[2,0],"2":[2,2],"3":[2,2],"4":[2,2],"5":[0,0],"6":[0,0],"7":[1,0],"8":[0,0],"9":[0,0],"10":[0,1],"11":[1,1]},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/services/userService.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/services/userService.ts"],"names":[],"mappings":";;;;;;;;;;;AAAA,uCAAuC;AACvC,qDAA+C;AAE/C,yCAAkC;AAClC,8DAAiE;AAEjE,MAAqB,WAAW;IAErB,MAAM,CAAO,KAAK,CAAE,IAAY;;YACnC,MAAM,EAAE,KAAK,EAAE,QAAQ,EAAE,GAAG,IAAI,CAAC;YAEjC,MAAM,IAAI,GAAG,MAAM,cAAI,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAE,KAAK,EAAE,EAAE,CAAC,CAAC;YAEtD,IAAI,CAAC,IAAI;gBAAE,OAAO,KAAK,CAAC;YAExB,MAAM,aAAa,GAAG,IAAA,sBAAW,EAAC,QAAQ,EAAE,IAAI,CAAC,QAAQ,CAAC,CAAC;YAE3D,IAAI,CAAC,aAAa;gBAAE,OAAO,KAAK,CAAC;YAEjC,MAAM,YAAY,GAAG;gBACjB,EAAE,EAAE,IAAI,CAAC,EAAE;gBACX,QAAQ,EAAE,IAAI,CAAC,QAAQ;gBACvB,KAAK;aACL,CAAC;YAEL,OAAO,YAAY,CAAC;QACtB,CAAC;KAAA;IAAA,CAAC;IAEG,MAAM,CAAO,MAAM,CAAE,IAAW;;YACnC,MAAM,EAAC,KAAK,EAAE,QAAQ,EAAE,QAAQ,EAAC,GAAG,IAAI,CAAC;YAEzC,MAAM,SAAS,GAAG,MAAM,cAAI,CAAC,OAAO,CAAC,EAAE,KAAK,EAAE,EAAC,QAAQ,EAAC,EAAC,CAAC,CAAC;YAE3D,IAAG,SAAS;gBAAE,OAAO,KAAK,CAAC;YAE3B,MAAM,cAAc,GAAG,IAAA,uCAAqB,EAAC,QAAQ,CAAC,CAAC;YAEvD,MAAM,OAAO,GAAG,MAAM,cAAI,CAAC,MAAM,CAAC,EAAC,KAAK,EAAE,QAAQ,EAAC,cAAc,EAAE,QAAQ,EAAC,CAAC,CAAA;YAE7E,OAAO;gBACH,EAAE,EAAE,OAAO,CAAC,EAAE;gBACd,KAAK;gBACL,QAAQ;aACX,CAAA;QACL,CAAC;KAAA;IAEM,MAAM,CAAO,QAAQ,CAAE,EAAU;;YACpC,MAAM,IAAI,GAAG,MAAM,cAAI,CAAC,QAAQ,CAAC,EAAE,CAAC,CAAA;YACpC,OAAO,EAAC,EAAE,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,EAAE,EAAC,CAAA;QACzB,CAAC;KAAA;IAEM,MAAM,CAAO,UAAU,CAAE,IAAY;;YACxC,MAAM,IAAI,GAAG,MAAM,cAAI,CAAC,OAAO,CAAC,EAAC,KAAK,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,EAAC,CAAC,CAAA;YAC5D,OAAO,EAAC,EAAE,EAAE,IAAI,aAAJ,IAAI,uBAAJ,IAAI,CAAE,EAAE,EAAC,CAAA;QACzB,CAAC;KAAA;IAEM,MAAM,CAAC,QAAQ,CAAE,QAAe;QACnC,OAAO,oBAAU,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;IACzC,CAAC;CAEF;AAtDH,8BAsDG","sourcesContent":["import { compareSync } from 'bcryptjs';\nimport userSchema  from '../Schema/userSchema';\nimport { ILogin, IModel, IUser } from '../interfaces/userInterface';\nimport User from '../models/user';\nimport { generateCriptPassword } from '../Utils/bcryptFunctions';\n\nexport default class UserService  {\n      \n    public static async login (data: ILogin): Promise<boolean | IModel>  {\n        const { email, password } = data;\n      \n        const user = await User.findOne({ where: { email } });\n      \n        if (!user) return false;\n      \n        const passwordCheck = compareSync(password, user.password);\n      \n        if (!passwordCheck) return false;\n      \n        const userFiltered = {\n            id: user.id,\n            username: user.username,\n            email,\n           };\n      \n        return userFiltered;\n      };\n\n    public static async create (data: IUser) {\n        const {email, password, username} = data;\n\n        const checkUser = await User.findOne({ where: {username}});\n\n        if(checkUser) return false;\n        \n        const securePassword = generateCriptPassword(password);      \n\n        const newUser = await User.create({email, password:securePassword, username})\n\n        return {\n            id: newUser.id,\n            email,\n            username\n        }\n    }\n\n    public static async findById (id: number) {\n        const user = await User.findByPk(id)\n        return {id: user?.id}\n    }\n\n    public static async findByName (name: string) {\n        const user = await User.findOne({where: { username: name }})\n        return {id: user?.id}\n    }\n\n    public static validate (userInfo: IUser) {\n        return userSchema.validate(userInfo);\n    }\n\n  } \n\n\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"b954e912f7c77328c39540c255067a54fe2a1197","contentHash":"f86d90646a762e3388ab372c6a677a9f9d62b290b281581ce33d7cbb685eb805"},"/home/walmir/ProjetosExtras/loldesign-back/src/Schema/userSchema.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/Schema/userSchema.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":12},"end":{"line":3,"column":26}},"2":{"start":{"line":4,"column":19},"end":{"line":8,"column":2}},"3":{"start":{"line":9,"column":0},"end":{"line":9,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/Schema/userSchema.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/Schema/userSchema.ts"],"names":[],"mappings":";;AAAA,2BAA4B;AAE5B,MAAM,UAAU,GAAG,GAAG,CAAC,MAAM,EAAE,CAAC,IAAI,CAAC;IACjC,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;IACxC,KAAK,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,QAAQ,EAAE,CAAC,KAAK,EAAE,CAAC,QAAQ,EAAE;IACjD,QAAQ,EAAE,GAAG,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,QAAQ,EAAE;CAC3C,CAAC,CAAA;AACF,kBAAe,UAAU,CAAC","sourcesContent":["import Joi = require(\"joi\");\n\nconst userSchema = Joi.object().keys({\n    username: Joi.string().min(8).required(),\n    email: Joi.string().required().email().required(),\n    password: Joi.string().min(6).required(),\n})\nexport default userSchema;"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"e42d7fe37aa52dc96d781a4e50387f674a25d8ef","contentHash":"985761001b0d5124b9dcb9ba889822b0328aeb0f0ecd462480b3b4350ebec16f"},"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/bcryptFunctions.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/bcryptFunctions.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":39}},"2":{"start":{"line":4,"column":19},"end":{"line":4,"column":38}},"3":{"start":{"line":5,"column":30},"end":{"line":10,"column":1}},"4":{"start":{"line":6,"column":23},"end":{"line":6,"column":25}},"5":{"start":{"line":7,"column":17},"end":{"line":7,"column":56}},"6":{"start":{"line":8,"column":17},"end":{"line":8,"column":57}},"7":{"start":{"line":9,"column":4},"end":{"line":9,"column":16}},"8":{"start":{"line":11,"column":0},"end":{"line":11,"column":54}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":5,"column":30},"end":{"line":5,"column":31}},"loc":{"start":{"line":5,"column":44},"end":{"line":10,"column":1}},"line":5}},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":0,"5":0,"6":0,"7":0,"8":1},"f":{"0":0},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/bcryptFunctions.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/Utils/bcryptFunctions.ts"],"names":[],"mappings":";;;AAAA,uCAAgD;AAEzC,MAAM,qBAAqB,GAAG,CAAC,QAAe,EAAU,EAAE;IAC7D,MAAM,UAAU,GAAG,EAAE,CAAC;IAEtB,MAAM,IAAI,GAAG,IAAA,sBAAW,EAAC,UAAU,CAAC,CAAC;IACrC,MAAM,IAAI,GAAG,IAAA,mBAAQ,EAAC,QAAQ,EAAE,IAAI,CAAC,CAAC;IAEtC,OAAO,IAAI,CAAA;AACf,CAAC,CAAA;AAPY,QAAA,qBAAqB,yBAOjC","sourcesContent":["import { genSaltSync, hashSync } from \"bcryptjs\"\n\nexport const generateCriptPassword = (password:string): String => {\n    const saltRounds = 10;\n\n    const salt = genSaltSync(saltRounds);\n    const hash = hashSync(password, salt);\n\n    return hash\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"d43b4350eefb680e9ccd64a855d04e5cf1ad9a18","contentHash":"2b2f49c0bd874b242ad7e81c7ce3a4edaa0d37f000dd133860ec8a5527dad019"},"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/StatusCode.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/StatusCode.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":4,"column":0},"end":{"line":13,"column":36}},"2":{"start":{"line":5,"column":4},"end":{"line":5,"column":46}},"3":{"start":{"line":6,"column":4},"end":{"line":6,"column":56}},"4":{"start":{"line":7,"column":4},"end":{"line":7,"column":62}},"5":{"start":{"line":8,"column":4},"end":{"line":8,"column":64}},"6":{"start":{"line":9,"column":4},"end":{"line":9,"column":66}},"7":{"start":{"line":10,"column":4},"end":{"line":10,"column":60}},"8":{"start":{"line":11,"column":4},"end":{"line":11,"column":82}},"9":{"start":{"line":12,"column":4},"end":{"line":12,"column":84}},"10":{"start":{"line":14,"column":0},"end":{"line":14,"column":29}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":4,"column":1},"end":{"line":4,"column":2}},"loc":{"start":{"line":4,"column":23},"end":{"line":13,"column":1}},"line":4}},"branchMap":{"0":{"loc":{"start":{"line":13,"column":3},"end":{"line":13,"column":34}},"type":"binary-expr","locations":[{"start":{"line":13,"column":3},"end":{"line":13,"column":13}},{"start":{"line":13,"column":18},"end":{"line":13,"column":33}}],"line":13}},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1,"7":1,"8":1,"9":1,"10":1},"f":{"0":1},"b":{"0":[1,1]},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/Utils/StatusCode.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/Utils/StatusCode.ts"],"names":[],"mappings":";;AAAA,IAAK,UASF;AATH,WAAK,UAAU;IACX,yCAAQ,CAAA;IACR,mDAAO,CAAA;IACP,yDAAgB,CAAA;IAChB,2DAAiB,CAAA;IACjB,6DAAY,CAAA;IACZ,uDAAe,CAAA;IACf,6EAA0B,CAAA;IAC1B,+EAA2B,CAAA;AAC7B,CAAC,EATE,UAAU,KAAV,UAAU,QASZ;AAED,kBAAe,UAAU,CAAC","sourcesContent":["enum StatusCode {\n    OK = 200,\n    CREATED,\n    NO_CONTENT = 204,\n    BAD_REQUEST = 400,\n    UNAUTHORIZED,\n    NOT_FOUND = 404,\n    UNPROCESSABLE_ENTITY = 422,\n    INTERNAL_SERVER_ERROR = 500,\n  }\n  \n  export default StatusCode;\n  "]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"7d2af58ef2b3120eb6ca6b9141d9188869921017","contentHash":"1cfd51717283cd7c8b7361e50e040d2a48a1a095202ebce582bcc25aad0cc157"},"/home/walmir/ProjetosExtras/loldesign-back/src/routes/userRoutes.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/routes/userRoutes.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":18},"end":{"line":3,"column":36}},"2":{"start":{"line":4,"column":25},"end":{"line":4,"column":65}},"3":{"start":{"line":5,"column":19},"end":{"line":5,"column":42}},"4":{"start":{"line":6,"column":0},"end":{"line":6,"column":95}},"5":{"start":{"line":7,"column":0},"end":{"line":7,"column":53}},"6":{"start":{"line":8,"column":0},"end":{"line":8,"column":29}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/routes/userRoutes.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/routes/userRoutes.ts"],"names":[],"mappings":";;AAAA,qCAAiC;AACjC,kEAA2D;AAE3D,MAAM,UAAU,GAAG,IAAA,gBAAM,GAAE,CAAC;AAE5B,UAAU,CAAC,IAAI,CAAC,SAAS,EAAE,wBAAc,CAAC,QAAQ,EAAC,wBAAc,CAAC,MAAM,CAAC,CAAC;AAC1E,UAAU,CAAC,IAAI,CAAC,GAAG,EAAE,wBAAc,CAAC,KAAK,CAAC,CAAC;AAE3C,kBAAe,UAAU,CAAC","sourcesContent":["import { Router } from 'express';\nimport UserController from '../controllers/userController';\n\nconst loginRoute = Router();\n\nloginRoute.post('/create', UserController.validate,UserController.create);\nloginRoute.post('/', UserController.login);\n\nexport default loginRoute;\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"55f49d5c4ce6ebfe67bdee833f1f893507f33e2a","contentHash":"0374c6bb8de07a25d9ac1e2f9f545e0f6600a6a452b26e625297754f7e9a2001"},"/home/walmir/ProjetosExtras/loldesign-back/src/controllers/userController.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/controllers/userController.ts","statementMap":{"0":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"1":{"start":{"line":3,"column":28},"end":{"line":3,"column":110}},"2":{"start":{"line":3,"column":91},"end":{"line":3,"column":106}},"3":{"start":{"line":4,"column":4},"end":{"line":9,"column":7}},"4":{"start":{"line":5,"column":36},"end":{"line":5,"column":97}},"5":{"start":{"line":5,"column":42},"end":{"line":5,"column":70}},"6":{"start":{"line":5,"column":85},"end":{"line":5,"column":95}},"7":{"start":{"line":6,"column":35},"end":{"line":6,"column":100}},"8":{"start":{"line":6,"column":41},"end":{"line":6,"column":73}},"9":{"start":{"line":6,"column":88},"end":{"line":6,"column":98}},"10":{"start":{"line":7,"column":32},"end":{"line":7,"column":116}},"11":{"start":{"line":8,"column":8},"end":{"line":8,"column":78}},"12":{"start":{"line":11,"column":0},"end":{"line":11,"column":62}},"13":{"start":{"line":12,"column":22},"end":{"line":12,"column":56}},"14":{"start":{"line":13,"column":21},"end":{"line":13,"column":51}},"15":{"start":{"line":16,"column":8},"end":{"line":28,"column":11}},"16":{"start":{"line":17,"column":12},"end":{"line":27,"column":13}},"17":{"start":{"line":18,"column":31},"end":{"line":18,"column":74}},"18":{"start":{"line":19,"column":16},"end":{"line":21,"column":17}},"19":{"start":{"line":20,"column":20},"end":{"line":20,"column":122}},"20":{"start":{"line":22,"column":16},"end":{"line":22,"column":72}},"21":{"start":{"line":25,"column":16},"end":{"line":26,"column":47}},"22":{"start":{"line":32,"column":8},"end":{"line":43,"column":11}},"23":{"start":{"line":33,"column":12},"end":{"line":42,"column":13}},"24":{"start":{"line":34,"column":32},"end":{"line":34,"column":76}},"25":{"start":{"line":35,"column":16},"end":{"line":36,"column":116}},"26":{"start":{"line":36,"column":20},"end":{"line":36,"column":116}},"27":{"start":{"line":37,"column":16},"end":{"line":37,"column":78}},"28":{"start":{"line":40,"column":16},"end":{"line":41,"column":47}},"29":{"start":{"line":46,"column":25},"end":{"line":46,"column":33}},"30":{"start":{"line":47,"column":27},"end":{"line":47,"column":67}},"31":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"32":{"start":{"line":49,"column":12},"end":{"line":49,"column":72}},"33":{"start":{"line":51,"column":8},"end":{"line":51,"column":22}},"34":{"start":{"line":54,"column":0},"end":{"line":54,"column":33}}},"fnMap":{"0":{"name":"(anonymous_0)","decl":{"start":{"line":2,"column":44},"end":{"line":2,"column":45}},"loc":{"start":{"line":2,"column":89},"end":{"line":10,"column":1}},"line":2},"1":{"name":"adopt","decl":{"start":{"line":3,"column":13},"end":{"line":3,"column":18}},"loc":{"start":{"line":3,"column":26},"end":{"line":3,"column":112}},"line":3},"2":{"name":"(anonymous_2)","decl":{"start":{"line":3,"column":70},"end":{"line":3,"column":71}},"loc":{"start":{"line":3,"column":89},"end":{"line":3,"column":108}},"line":3},"3":{"name":"(anonymous_3)","decl":{"start":{"line":4,"column":36},"end":{"line":4,"column":37}},"loc":{"start":{"line":4,"column":63},"end":{"line":9,"column":5}},"line":4},"4":{"name":"fulfilled","decl":{"start":{"line":5,"column":17},"end":{"line":5,"column":26}},"loc":{"start":{"line":5,"column":34},"end":{"line":5,"column":99}},"line":5},"5":{"name":"rejected","decl":{"start":{"line":6,"column":17},"end":{"line":6,"column":25}},"loc":{"start":{"line":6,"column":33},"end":{"line":6,"column":102}},"line":6},"6":{"name":"step","decl":{"start":{"line":7,"column":17},"end":{"line":7,"column":21}},"loc":{"start":{"line":7,"column":30},"end":{"line":7,"column":118}},"line":7},"7":{"name":"(anonymous_7)","decl":{"start":{"line":15,"column":4},"end":{"line":15,"column":5}},"loc":{"start":{"line":15,"column":27},"end":{"line":29,"column":5}},"line":15},"8":{"name":"(anonymous_8)","decl":{"start":{"line":16,"column":47},"end":{"line":16,"column":48}},"loc":{"start":{"line":16,"column":60},"end":{"line":28,"column":9}},"line":16},"9":{"name":"(anonymous_9)","decl":{"start":{"line":31,"column":4},"end":{"line":31,"column":5}},"loc":{"start":{"line":31,"column":28},"end":{"line":44,"column":5}},"line":31},"10":{"name":"(anonymous_10)","decl":{"start":{"line":32,"column":47},"end":{"line":32,"column":48}},"loc":{"start":{"line":32,"column":60},"end":{"line":43,"column":9}},"line":32},"11":{"name":"(anonymous_11)","decl":{"start":{"line":45,"column":4},"end":{"line":45,"column":5}},"loc":{"start":{"line":45,"column":36},"end":{"line":52,"column":5}},"line":45}},"branchMap":{"0":{"loc":{"start":{"line":2,"column":16},"end":{"line":10,"column":1}},"type":"binary-expr","locations":[{"start":{"line":2,"column":17},"end":{"line":2,"column":21}},{"start":{"line":2,"column":25},"end":{"line":2,"column":39}},{"start":{"line":2,"column":44},"end":{"line":10,"column":1}}],"line":2},"1":{"loc":{"start":{"line":3,"column":35},"end":{"line":3,"column":109}},"type":"cond-expr","locations":[{"start":{"line":3,"column":56},"end":{"line":3,"column":61}},{"start":{"line":3,"column":64},"end":{"line":3,"column":109}}],"line":3},"2":{"loc":{"start":{"line":4,"column":16},"end":{"line":4,"column":34}},"type":"binary-expr","locations":[{"start":{"line":4,"column":16},"end":{"line":4,"column":17}},{"start":{"line":4,"column":22},"end":{"line":4,"column":33}}],"line":4},"3":{"loc":{"start":{"line":7,"column":32},"end":{"line":7,"column":115}},"type":"cond-expr","locations":[{"start":{"line":7,"column":46},"end":{"line":7,"column":67}},{"start":{"line":7,"column":70},"end":{"line":7,"column":115}}],"line":7},"4":{"loc":{"start":{"line":8,"column":51},"end":{"line":8,"column":67}},"type":"binary-expr","locations":[{"start":{"line":8,"column":51},"end":{"line":8,"column":61}},{"start":{"line":8,"column":65},"end":{"line":8,"column":67}}],"line":8},"5":{"loc":{"start":{"line":19,"column":16},"end":{"line":21,"column":17}},"type":"if","locations":[{"start":{"line":19,"column":16},"end":{"line":21,"column":17}},{"start":{"line":19,"column":16},"end":{"line":21,"column":17}}],"line":19},"6":{"loc":{"start":{"line":35,"column":16},"end":{"line":36,"column":116}},"type":"if","locations":[{"start":{"line":35,"column":16},"end":{"line":36,"column":116}},{"start":{"line":35,"column":16},"end":{"line":36,"column":116}}],"line":35},"7":{"loc":{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},"type":"if","locations":[{"start":{"line":48,"column":8},"end":{"line":50,"column":9}},{"start":{"line":48,"column":8},"end":{"line":50,"column":9}}],"line":48}},"s":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":1,"6":0,"7":0,"8":0,"9":0,"10":2,"11":1,"12":1,"13":1,"14":1,"15":0,"16":0,"17":0,"18":0,"19":0,"20":0,"21":0,"22":1,"23":1,"24":1,"25":1,"26":1,"27":0,"28":0,"29":1,"30":1,"31":1,"32":0,"33":1,"34":1},"f":{"0":1,"1":1,"2":0,"3":1,"4":1,"5":0,"6":2,"7":0,"8":0,"9":1,"10":1,"11":1},"b":{"0":[1,1,1],"1":[1,0],"2":[1,1],"3":[1,1],"4":[1,1],"5":[0,0],"6":[1,0],"7":[0,1]},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/controllers/userController.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/controllers/userController.ts"],"names":[],"mappings":";;;;;;;;;;;AACA,yDAAkD;AAClD,oDAA6C;AAE7C,MAAqB,cAAc;IAExB,MAAM,CAAO,KAAK,CAAE,GAAY,EAAC,GAAa;;YAC7C,IAAI;gBACA,MAAM,MAAM,GAAG,MAAM,qBAAW,CAAC,KAAK,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAEjD,IAAI,CAAC,MAAM,EAAE;oBACX,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,YAAY,CAAC,CAAC,IAAI,CAAC,EAAE,OAAO,EAAE,6BAA6B,EAAE,CAAC,CAAC;iBAC7F;gBAED,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,EAAE,CAAC,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC;aAC/C;YAAC,OAAO,GAAG,EAAE;gBACZ,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,YAAY,CAAC;qBACvC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;aAC9B;QACT,CAAC;KAAA;IAAA,CAAC;IAEG,MAAM,CAAO,MAAM,CAAE,GAAY,EAAC,GAAa;;YAClD,IAAI;gBACA,MAAM,OAAO,GAAG,MAAM,qBAAW,CAAC,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;gBAEnD,IAAG,CAAC,OAAO;oBAAE,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,WAAW,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,wBAAwB,EAAC,CAAC,CAAC;gBAEjG,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,OAAO,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;aAEtD;YAAC,OAAO,GAAG,EAAE;gBACV,OAAO,GAAG,CAAC,MAAM,CAAC,oBAAU,CAAC,YAAY,CAAC;qBACvC,IAAI,CAAC,EAAE,KAAK,EAAE,GAAG,GAAG,EAAE,EAAE,CAAC,CAAC;aAC9B;QACT,CAAC;KAAA;IAEM,MAAM,CAAC,QAAQ,CAAE,GAAY,EAAE,GAAa,EAAE,IAAkB;QACnE,MAAM,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;QAC1B,MAAM,UAAU,GAAE,qBAAW,CAAC,QAAQ,CAAC,QAAQ,CAAC,CAAC;QAEjD,IAAG,UAAU,CAAC,KAAK,EAAC;YAChB,GAAG,CAAC,MAAM,CAAC,GAAG,CAAC,CAAC,IAAI,CAAC,EAAC,OAAO,EAAE,UAAU,CAAC,KAAK,CAAC,OAAO,EAAC,CAAC,CAAA;SAC5D;QAED,OAAO,IAAI,EAAE,CAAA;IACjB,CAAC;CAEF;AA1CD,iCA0CC","sourcesContent":["import { NextFunction, Request, Response } from 'express';\nimport UserService from '../services/userService';\nimport StatusCode from '../Utils/StatusCode';\n\nexport default class UserController  {\n    \n    public static async login (req: Request,res: Response): Promise<typeof res>  {\n            try {\n                const result = await UserService.login(req.body);\n            \n                if (!result) {\n                  return res.status(StatusCode.UNAUTHORIZED).json({ message: 'Incorrect email or password' });\n                }\n            \n                return res.status(StatusCode.OK).json(result);\n              } catch (err) {\n                return res.status(StatusCode.UNAUTHORIZED)\n                  .json({ error: `${err}` });\n              }\n      };\n\n    public static async create (req: Request,res: Response): Promise<typeof res> {\n        try {\n            const newUser = await UserService.create(req.body);\n\n            if(!newUser) return res.status(StatusCode.BAD_REQUEST).json({message: 'User already registred'});\n\n            return res.status(StatusCode.CREATED).json(newUser)\n            \n        } catch (err) {\n            return res.status(StatusCode.UNAUTHORIZED)\n              .json({ error: `${err}` });\n          }\n  }\n\n  public static validate (req: Request, res: Response, next: NextFunction) {\n      const userInfo = req.body;\n      const validation= UserService.validate(userInfo);\n\n      if(validation.error){\n          res.status(500).json({message: validation.error.message})\n      }\n\n      return next()\n  }\n  \n}\n\n\n\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"050e71096209cce36bf4b6edb4a3a6da2365f4b2","contentHash":"ee37bdcc222b2659079ca2d2873fd1330c42d74b2415e1c4c8df388403dd9a2d"},"/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/userMock.ts":{"path":"/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/userMock.ts","statementMap":{"0":{"start":{"line":2,"column":0},"end":{"line":2,"column":62}},"1":{"start":{"line":3,"column":0},"end":{"line":3,"column":111}},"2":{"start":{"line":4,"column":0},"end":{"line":9,"column":2}},"3":{"start":{"line":10,"column":0},"end":{"line":15,"column":2}},"4":{"start":{"line":16,"column":0},"end":{"line":19,"column":2}},"5":{"start":{"line":20,"column":0},"end":{"line":24,"column":2}},"6":{"start":{"line":25,"column":0},"end":{"line":29,"column":2}}},"fnMap":{},"branchMap":{},"s":{"0":1,"1":1,"2":1,"3":1,"4":1,"5":1,"6":1},"f":{},"b":{},"inputSourceMap":{"version":3,"file":"/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/userMock.ts","sources":["/home/walmir/ProjetosExtras/loldesign-back/src/tests/mocks/userMock.ts"],"names":[],"mappings":";;;AAAa,QAAA,QAAQ,GAAG;IACpB,EAAE,EAAE,CAAC;IACL,QAAQ,EAAE,eAAe;IACzB,KAAK,EAAE,yBAAyB;IAChC,QAAQ,EAAE,8DAA8D;CAE3E,CAAA;AAEY,QAAA,SAAS,GAAG;IACrB,EAAE,EAAE,EAAE;IACN,QAAQ,EAAE,gBAAgB;IAC1B,KAAK,EAAE,eAAe;IACtB,QAAQ,EAAE,KAAK;CAElB,CAAA;AAEY,QAAA,SAAS,GAAG;IACrB,KAAK,EAAE,yBAAyB;IAChC,QAAQ,EAAE,8DAA8D;CAC3E,CAAA;AAEY,QAAA,UAAU,GAAG;IACtB,QAAQ,EAAE,eAAe;IACzB,KAAK,EAAE,yBAAyB;IAChC,QAAQ,EAAE,8DAA8D;CAC3E,CAAA;AAEY,QAAA,aAAa,GAAG;IACzB,EAAE,EAAE,CAAC;IACL,QAAQ,EAAE,eAAe;IACzB,KAAK,EAAE,yBAAyB;CACnC,CAAA","sourcesContent":["export const userMock = {\n    id: 1,\n    username: \"walmir lucena\",\n    email: \"Walmirlucena3@gmail.com\",\n    password: \"$2a$10$3awB5lwT2SfeInm8OqLZouq6L8mV/5Jbp4bh.ZfMsuRJTJSxXxtC.\"\n    \n}\n\nexport const wrongUser = {\n    id: 10,\n    username: \"Lewis Hamilton\",\n    email: \"lewismail.com\",\n    password: \"123\"\n    \n}\n\nexport const loginData = {\n    email: \"Walmirlucena3@gmail.com\",\n    password: \"$2a$10$3awB5lwT2SfeInm8OqLZouq6L8mV/5Jbp4bh.ZfMsuRJTJSxXxtC.\"\n}\n\nexport const createData = {\n    username: \"walmir lucena\",\n    email: \"Walmirlucena3@gmail.com\",\n    password: \"$2a$10$3awB5lwT2SfeInm8OqLZouq6L8mV/5Jbp4bh.ZfMsuRJTJSxXxtC.\"\n}\n\nexport const responseLogin = {\n    id: 1,\n    username: \"walmir lucena\",\n    email: \"Walmirlucena3@gmail.com\",\n}\n"]},"_coverageSchema":"1a1c01bbd47fc00a2c39e90264f33305004495a9","hash":"20ef50f044c28eca9eb8a7a9a22cab3dc06faca7","contentHash":"f4abb7e48f5b070d31a8b651db5be2bd27a89c592e54248e6515fadac697ebe4"}}